{% extends 'base.html.twig' %}

{% block title %}Task index{% endblock %}

{% block body %}
    <h1 class="text-center mt-3">{{ 'My To-Do List'|trans }}</h1>

    <table class="table table-bordered table-sm">
        <tbody>
        {% for task in pagerFanta.currentPageResults %}
            <tr>
                <td width="2%"><input type="checkbox" {% if task.isDone %}checked{% endif %}></td>
                <td><a href="{{ url('task_show', {'id': task.id}) }}">{{ task.name }}</a></td>
                <td width="10%">
                    <form class="form-inline" method="post" action="{{ path('task_delete', {'id': task.id}) }}" onsubmit="return confirm('{{ 'delete_confirmation'|trans }}');">
                        <input type="hidden" name="_method" value="DELETE">
                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ task.id) }}">
                        <a class="btn btn-sm" href="{{ path('task_edit', {'id': task.id}) }}">
                            <i class="fas fa-pencil-alt" aria-hidden="true"></i>
                        </a>
                        <button class="btn btn-sm"><i class="far fa-trash-alt" aria-hidden="true"></i></button>
                    </form>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="3">{{ 'no tasks'|trans }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <div class="pagerfanta d-flex justify-content-center">
        {{ pagerfanta(pagerFanta, 'twitter_bootstrap4') }}
    </div>
{% endblock %}
